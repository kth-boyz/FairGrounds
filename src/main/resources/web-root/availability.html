<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Apply Test</title>
</head>
<body>

<form th:action="@{/availability}" th:object="${applicationForm}" method="post">

    <div> <h3>Availability form</h3>
        <p>With thymeleaf</p>
        <ul th:each="availability, status : ${applicationForm.availabilities}" id="availabilities-th" >
            <li>
                <input type="hidden"  th:value="${status.index}" name="index"/>
                <input type="date" th:field="*{availabilities[__${status.index}__].toDate}"/>
                <input type="date" th:field="*{availabilities[__${status.index}__].fromDate}"/>
            </li>
        </ul>
    </div>
    <button name="addAvailability" type="submit">Add</button>
    <button th:if="${not #lists.isEmpty(applicationForm.availabilities)}"  name="deleteAvailability" type="submit">Delete</button>
    <button name="application" type="submit">Next</button>



</form>


</body>

</html>