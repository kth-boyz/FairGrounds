<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{resources/fragments/layout}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <main layout:fragment="content">
        <form th:action="@{/user/apply}" th:object="${applicationForm}" method="post">

            <div> <h3>Availability form</h3>
                <ul th:each="availability, status : ${applicationForm.availabilities}" id="availabilities-th" >
                    <li>
                        <input type="hidden"  th:value="${status.index}" name="index"/>
                        <input type="date" th:field="*{availabilities[__${status.index}__].toDate}"/>
                        <input type="date" th:field="*{availabilities[__${status.index}__].fromDate}"/>
                    </li>
                </ul>
            </div>
            <button name="addAvailability" type="submit">Add</button>
            <button th:if="${not #lists.isEmpty(applicationForm.availabilities)}"  name="deleteAvailability" type="submit">Delete</button>
            <button name="application" type="submit">Next</button>



        </form>
    </main>
</body>

</html>